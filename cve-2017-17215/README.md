# CVE-2017-17215
## 简介
路由器RCE漏洞，由华为路由器HG532运行的upnp与mic服务引发，漏洞产生于路由器的37215端口。
由于fap运行似乎存在一定问题，当前脚本使用qemu虚拟机模拟路由器环境，通过chroot切换至路由器文件系统，仅运行以上两个服务，并将漏洞映射于本机的6666端口以供远端机访问。
可采用Dockerfile构建容器，也可使用Ubuntu16.04虚拟机直接进行环境配置。
初次启动时需要将start-qemu.sh的49-51行取消注释以键入ssh的yes。
## 依赖文件
qemu环境
```
wget https://people.debian.org/~aurel32/qemu/mips/debian_squeeze_mips_standard.qcow2
wget https://people.debian.org/~aurel32/qemu/mips/vmlinux-2.6.32-5-4kc-malta
```
固件提取
```
wget https://archive.org/download/RouterHG532e/router%20HG532e.rar
binwalk -Me HG532eV100R001C01B020_upgrade_packet.bin
```
可获得squashfs-root文件夹，作为路由器的文件系统
# CVE-2021-31805

```
.
├── Dockerfile.exploit
├── README.md
├── docker-compose.yml
├── exp.py # exploit script saved for sherry
├── exploit.py
└── exploit.sh
```

> 带 `>` 的命令似乎会被过滤/转义，所以目前只注入简单的 `echo` 命令验证是否成功注入。

> 可以通过注入ssh公钥的方式获取bash，具体方式参见~/cve-2023-33446/get_shell.sh

运行：

```bash
docker compose up
```

运行结果：

```
cve-2021-31805-exploit-1  | Waiting for target server to start...
cve-2021-31805-target-1   | [INFO] Scanning for projects...
...
cve-2021-31805-target-1   | [INFO] Started Jetty Server
cve-2021-31805-exploit-1  | Server started!
cve-2021-31805-exploit-1  | Exploit succeeded!
cve-2021-31805-exploit-1 exited with code 0
```

* reference： https://github.com/Axx8/Struts2_S2-062_CVE-2021-31805
* target environment setup: docker run -d vulhub/struts2:2.5.25